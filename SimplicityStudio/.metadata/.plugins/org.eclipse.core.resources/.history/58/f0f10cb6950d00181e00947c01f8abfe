#ifndef _INCL_PWM
#define _INCL_PWM
#endif

#include "em_device.h"
#include "em_cmu.h"
#include "em_gpio.h"
#include "em_timer.h"

#define TOP_VAL_PWM 1000        // sets PWM frequency to 1kHz (1MHz timer clock)
#define TOP_VAL_GP_TIMER 1000   // sets general purpose timer overflow frequency to 1kHz (1MHz timer clock)
#define UPDATE_PERIOD 250       // update compare value, toggle LED1 every 1/4 second (250ms)
#define INC_VAL (TOP_VAL_PWM/4) // adjust compare value amount

uint16_t _ms_counter = 0;        // global variable to count general purpose timer overflow events
uint32_t compare_val = 0;       // Initial PWM duty cycle is 0% (LED0 off)
uint8_t inc = 1;                // Increment = true

void initPwm(void);
void TIMER0_IRQHandler(void);
