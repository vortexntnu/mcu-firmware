#include "efm32gg990f1024.h"
#include <string.h>

#include "../include/uart.h"
#include "../include/pwm.h"

int main() {


	CHIP_Init();

	initUart();
	initPwm();

	uint8_t i;
	char hello_world[] = "\n\rHello World!\n\r";
	char receive_buff = '\0';

	for(i=0; i<strlen(hello_world); i++) USART_Tx(UART, hello_world[i]);

	while(1){

		//receive_buff = USART_Rx(UART);
		receive_buff = getCounter();
		if((getCounter() - '0')%10 == 0)
			USART_Tx(UART, getCounter());

		generate_PWM();

		usleep(10);



	}

}


