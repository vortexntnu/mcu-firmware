#include "efm32gg990f1024.h"
#include <string.h>

#include "../include/uart.h"
#include "../include/pwm.h"




int main() {

	CHIP_Init();

	initUart();
	initPwm();

	uint8_t i;
	char hello_world[] = "\n\rHello World!\n\r";
	char receive_buff = 0;

	// Print test string
  	for(i=0; i<strlen(hello_world); i++) {
    	while( !(USART1->STATUS & (1 << 6)) ); // wait for TX buffer to empty
    	USART1->TXDATA = hello_world[i];       // print each character of the test string
  	}

	for(i=0; i<strlen(hello_world); i++) USART_Tx(UART, hello_world[i]);

	while(1)  {

		receive_buff = USART_Rx(UART);

		USART_Tx(UART, receive_buff);

	}

}


